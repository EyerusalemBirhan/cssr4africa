
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>2. Getting Started &#8212; alrosbridge  documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="3. API description" href="api.html" />
    <link rel="prev" title="1. How to install it" href="install.html" /> 
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="api.html" title="3. API description"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="install.html" title="1. How to install it"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">alrosbridge  documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="getting-started">
<span id="start"></span><h1>2. Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h1>
<div class="section" id="before-starting-the-module">
<h2>2.1. Before starting the module<a class="headerlink" href="#before-starting-the-module" title="Permalink to this headline">¶</a></h2>
<p>To start using this bridge, you need to start a roscore locally on our desktop computer and then, to communicate your external roscore IP on your robot.
Start a ROScore (on your desktop machine)</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ ROS_IP=&lt;yourDesktopIP&gt; roscore
</pre></div>
</div>
<p>The ROS_IP parameter is optional in case your local network supports a fully functional DNS. You can easily verify this when you can ping your desktop computer from your robot. In case this fails, set the ROS_IP parameter so that we can later tell the robot how to find and connect to this roscore.</p>
</div>
<div class="section" id="start-the-naoqi-driver-module">
<h2>2.2. Start the naoqi driver module<a class="headerlink" href="#start-the-naoqi-driver-module" title="Permalink to this headline">¶</a></h2>
<p>Please execute the following steps on your local computer, not from the robot</p>
<div class="docutils container">
<button class="toggleable_button label_catkin" onclick="
function toggle(label) {
  $('.toggleable_button').css({border: '2px outset', 'border-radius': '4px'});
  $('.toggleable_button.label_' + label).css({border: '2px inset', 'border-radius': '4px'});
  $('.toggleable_div').css('display', 'none');
  $('.toggleable_div.label_' + label).css('display', 'block');
};
toggle('catkin')">catkin</button>
<script>

function toggle(label) {
  $('.toggleable_button').css({border: '2px outset', 'border-radius': '4px'});
  $('.toggleable_button.label_' + label).css({border: '2px inset', 'border-radius': '4px'});
  $('.toggleable_div').css('display', 'none');
  $('.toggleable_div.label_' + label).css('display', 'block');
};

$(document).ready(function() {
  var classList =$('.toggleable_button').attr('class').split(/\s+/);
  $.each( classList, function(index, item){
    if (item.substring(0, 5) === 'label') {
      toggle(item.substring(6));
    };
  });
});
</script>
<button class="toggleable_button label_qibuild" onclick="
function toggle(label) {
  $('.toggleable_button').css({border: '2px outset', 'border-radius': '4px'});
  $('.toggleable_button.label_' + label).css({border: '2px inset', 'border-radius': '4px'});
  $('.toggleable_div').css('display', 'none');
  $('.toggleable_div.label_' + label).css('display', 'block');
};
toggle('qibuild')">qibuild</button>
<script>

function toggle(label) {
  $('.toggleable_button').css({border: '2px outset', 'border-radius': '4px'});
  $('.toggleable_button.label_' + label).css({border: '2px inset', 'border-radius': '4px'});
  $('.toggleable_div').css('display', 'none');
  $('.toggleable_div.label_' + label).css('display', 'block');
};

$(document).ready(function() {
  var classList =$('.toggleable_button').attr('class').split(/\s+/);
  $.each( classList, function(index, item){
    if (item.substring(0, 5) === 'label') {
      toggle(item.substring(6));
    };
  });
});
</script>
</div>
<div class="docutils container">
<div class="toggleable_div label_catkin"><p>In case you built via catkin, you can alternatively start the naoqi driver via rosrun</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ rosrun naoqi_driver naoqi_driver_node --qi-url=tcp://&lt;yourRobotIP&gt;:9559 --roscore_ip &lt;roscore_ip&gt; --network_interface &lt;network_interface&gt;
</pre></div>
</div>
<p>The second parameter is available from version 1.2 (or compilation from source). Starting from version 1.2 (or compilation from source) you can alternatively start the bridge via a launch file</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ roslaunch naoqi_driver naoqi_driver.launch nao_ip:=&lt;yourRobotIP&gt; roscore_ip:=&lt;roscore_ip&gt; network_interface:=&lt;eth0|wlan0|tethering|vpn...&gt;
</pre></div>
</div>
</div></div>
<div class="docutils container">
<div class="toggleable_div label_qibuild"><p>In case you have a qibuild workspace, you can run the roscore by directly executing the binary</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ path/to/naoqi_driver_node --qi-url=tcp://&lt;yourRobotIP&gt;:9559 --roscore_ip &lt;roscore_ip&gt; --network_interface &lt;network_interface&gt;
</pre></div>
</div>
</div></div>
<p>The roscore IP is the IP of the computer where the roscore is running. This command is optional. If you don’t specify, any ROS communication is disabled until you call setMasterURI. The second parameter <code class="docutils literal"><span class="pre">network_interface</span></code> specifies the network interface the bridge is connected. By default, this is set to <code class="docutils literal"><span class="pre">eth0</span></code>. Changing this becomes important to establish a correct network connection between robot and computer, when you are connected via a different network device, such as wlan0 or vpn0 etc. In case you are not certain which device to use, verify with <code class="docutils literal"><span class="pre">ifconfig</span></code> and verify which network device has the correct IP.</p>
</div>
<div class="section" id="set-the-roscore-ip-manually">
<h2>2.3. Set the roscore IP manually<a class="headerlink" href="#set-the-roscore-ip-manually" title="Permalink to this headline">¶</a></h2>
<p>In case you started the naoqi driver without ROS communication (saying without the roscore_ip parameter), you can do so while the bridge is running.
For this, open a SSH connection onto your robot and execute the following command <strong>on</strong> the robot</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ qicli call ROS-Driver.setMasterURI http://&lt;yourDesktopIP&gt;:11311
</pre></div>
</div>
<p>If you connect to the robot not through ethernet, but an alternative interface such as wlan0, tethering or VPN, you need to specify the network interface</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ qicli call ROS-Driver.setMasterURINet http://&lt;yourDesktopIP&gt;:11311 &lt;network_interface&gt;
</pre></div>
</div>
<p>For instance, if the robot use tethering (and <code class="docutils literal"><span class="pre">tether</span></code> shows when doing <code class="docutils literal"><span class="pre">ifconfig</span></code>), use</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ qicli call ROS-Driver.setMasterURINet http://&lt;yourDesktopIP&gt;:11311 tether
</pre></div>
</div>
</div>
<div class="section" id="check-that-it-is-running-correctly">
<h2>2.4. Check that it is running correctly<a class="headerlink" href="#check-that-it-is-running-correctly" title="Permalink to this headline">¶</a></h2>
<p>For an easy check that all components are started and correctly running, you should see the following topics being available on your roscore.</p>
<div class="docutils container">
<button class="toggleable_button label_NAO" onclick="
function toggle(label) {
  $('.toggleable_button').css({border: '2px outset', 'border-radius': '4px'});
  $('.toggleable_button.label_' + label).css({border: '2px inset', 'border-radius': '4px'});
  $('.toggleable_div').css('display', 'none');
  $('.toggleable_div.label_' + label).css('display', 'block');
};
toggle('NAO')">NAO</button>
<script>

function toggle(label) {
  $('.toggleable_button').css({border: '2px outset', 'border-radius': '4px'});
  $('.toggleable_button.label_' + label).css({border: '2px inset', 'border-radius': '4px'});
  $('.toggleable_div').css('display', 'none');
  $('.toggleable_div.label_' + label).css('display', 'block');
};

$(document).ready(function() {
  var classList =$('.toggleable_button').attr('class').split(/\s+/);
  $.each( classList, function(index, item){
    if (item.substring(0, 5) === 'label') {
      toggle(item.substring(6));
    };
  });
});
</script>
<button class="toggleable_button label_Pepper" onclick="
function toggle(label) {
  $('.toggleable_button').css({border: '2px outset', 'border-radius': '4px'});
  $('.toggleable_button.label_' + label).css({border: '2px inset', 'border-radius': '4px'});
  $('.toggleable_div').css('display', 'none');
  $('.toggleable_div.label_' + label).css('display', 'block');
};
toggle('Pepper')">Pepper</button>
<script>

function toggle(label) {
  $('.toggleable_button').css({border: '2px outset', 'border-radius': '4px'});
  $('.toggleable_button.label_' + label).css({border: '2px inset', 'border-radius': '4px'});
  $('.toggleable_div').css('display', 'none');
  $('.toggleable_div.label_' + label).css('display', 'block');
};

$(document).ready(function() {
  var classList =$('.toggleable_button').attr('class').split(/\s+/);
  $.each( classList, function(index, item){
    if (item.substring(0, 5) === 'label') {
      toggle(item.substring(6));
    };
  });
});
</script>
</div>
<div class="docutils container">
<div class="toggleable_div label_NAO"><p>For NAO, the following topics should be available</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ rosnode info /nao_robot
Node [/nao_robot]
Publications:
* /tf [tf2_msgs/TFMessage]
* /nao_robot/sonar/left [sensor_msgs/Range]
* /nao_robot/camera/front/image_raw/theora/parameter_descriptions [dynamic_reconfigure/ConfigDescription]
* /nao_robot/camera/bottom/camera_info [sensor_msgs/CameraInfo]
* /nao_robot/camera/bottom/image_raw [sensor_msgs/Image]
* /joint_states [sensor_msgs/JointState]
* /rosout [rosgraph_msgs/Log]
* /nao_robot/camera/bottom/image_raw/compressed/parameter_updates [dynamic_reconfigure/Config]
* /nao_robot/info [naoqi_bridge_msgs/StringStamped]
* /nao_robot/camera/bottom/image_raw/compressed [sensor_msgs/CompressedImage]
* /nao_robot/camera/front/image_raw [sensor_msgs/Image]
* /nao_robot/camera/front/camera_info [sensor_msgs/CameraInfo]
* /nao_robot/camera/bottom/image_raw/theora [theora_image_transport/Packet]
* /nao_robot/camera/front/image_raw/theora/parameter_updates [dynamic_reconfigure/Config]
* /nao_robot/camera/bottom/image_raw/theora/parameter_updates [dynamic_reconfigure/Config]
* /nao_robot/audio [naoqi_bridge_msgs/AudioBuffer]
* /nao_robot/camera/bottom/image_raw/compressed/parameter_descriptions [dynamic_reconfigure/ConfigDescription]
* /nao_robot/imu/torso [sensor_msgs/Imu]
* /nao_robot/camera/bottom/image_raw/theora/parameter_descriptions [dynamic_reconfigure/ConfigDescription]
* /nao_robot/camera/front/image_raw/compressed/parameter_updates [dynamic_reconfigure/Config]
* /nao_robot/camera/front/image_raw/theora [theora_image_transport/Packet]
* /nao_robot/camera/front/image_raw/compressed/parameter_descriptions [dynamic_reconfigure/ConfigDescription]
* /nao_robot/camera/front/image_raw/compressed [sensor_msgs/CompressedImage]
* /nao_robot/sonar/right [sensor_msgs/Range]
* /diagnostics_agg [diagnostic_msgs/DiagnosticArray]

Subscriptions:
* /move_base_simple/goal [geometry_msgs/PoseStamped]
* /cmd_vel [unknown type]

Services:
* /nao_robot/camera/front/image_raw/theora/set_parameters
* /nao_robot/camera/bottom/image_raw/theora/set_parameters
* /nao_robot/set_logger_level
* /nao_robot/camera/front/image_raw/compressed/set_parameters
* /nao_robot/camera/bottom/image_raw/compressed/set_parameters
* /nao_robot/get_loggers
* /nao_robot/camera/bottom/image_raw/compressedDepth/set_parameters
* /nao_robot/camera/front/image_raw/compressedDepth/set_parameters
</pre></div>
</div>
</div></div>
<div class="docutils container">
<div class="toggleable_div label_Pepper"><p>For Pepper, you should see the following topics:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ rosnode info /pepper_robot
Node [/pepper_robot]
Publications:
* /pepper_robot/imu/base [sensor_msgs/Imu]
* /pepper_robot/camera/ir/image_raw/theora [theora_image_transport/Packet]
* /tf [tf2_msgs/TFMessage]
* /pepper_robot/camera/bottom/image_raw/theora [theora_image_transport/Packet]
* /pepper_robot/camera/ir/camera_info [sensor_msgs/CameraInfo]
* /pepper_robot/camera/depth/image_raw/compressed/parameter_descriptions [dynamic_reconfigure/ConfigDescription]
* /pepper_robot/camera/ir/image_raw/compressed [sensor_msgs/CompressedImage]
* /pepper_robot/camera/depth/image_raw [sensor_msgs/Image]
* /pepper_robot/camera/bottom/image_raw/compressed [sensor_msgs/CompressedImage]
* /pepper_robot/camera/front/image_raw/theora [theora_image_transport/Packet]
* /pepper_robot/audio [naoqi_bridge_msgs/AudioBuffer]
* /pepper_robot/camera/bottom/camera_info [sensor_msgs/CameraInfo]
* /pepper_robot/camera/depth/image_raw/compressedDepth/parameter_descriptions [dynamic_reconfigure/ConfigDescription]
* /pepper_robot/camera/front/camera_info [sensor_msgs/CameraInfo]
* /joint_states [sensor_msgs/JointState]
* /rosout [rosgraph_msgs/Log]
* /pepper_robot/camera/depth/image_raw/compressedDepth/parameter_updates [dynamic_reconfigure/Config]
* /pepper_robot/camera/bottom/image_raw [sensor_msgs/Image]
* /pepper_robot/sonar/front [sensor_msgs/Range]
* /pepper_robot/camera/depth/camera_info [sensor_msgs/CameraInfo]
* /pepper_robot/camera/front/image_raw [sensor_msgs/Image]
* /pepper_robot/camera/bottom/image_raw/compressed/parameter_descriptions [dynamic_reconfigure/ConfigDescription]
* /pepper_robot/camera/front/image_raw/compressed [sensor_msgs/CompressedImage]
* /pepper_robot/camera/depth/image_raw/compressed/parameter_updates [dynamic_reconfigure/Config]
* /pepper_robot/laser [sensor_msgs/LaserScan]
* /pepper_robot/camera/front/image_raw/compressed/parameter_descriptions [dynamic_reconfigure/ConfigDescription]
* /pepper_robot/imu/torso [sensor_msgs/Imu]
* /pepper_robot/camera/ir/image_raw/compressed/parameter_descriptions [dynamic_reconfigure/ConfigDescription]
* /pepper_robot/camera/depth/image_raw/theora [theora_image_transport/Packet]
* /pepper_robot/camera/ir/image_raw/theora/parameter_descriptions [dynamic_reconfigure/ConfigDescription]
* /pepper_robot/camera/front/image_raw/theora/parameter_descriptions [dynamic_reconfigure/ConfigDescription]
* /pepper_robot/camera/bottom/image_raw/theora/parameter_updates [dynamic_reconfigure/Config]
* /pepper_robot/info [naoqi_bridge_msgs/StringStamped]
* /pepper_robot/camera/front/image_raw/theora/parameter_updates [dynamic_reconfigure/Config]
* /pepper_robot/camera/depth/image_raw/compressed [sensor_msgs/CompressedImage]
* /pepper_robot/camera/bottom/image_raw/compressed/parameter_updates [dynamic_reconfigure/Config]
* /pepper_robot/camera/bottom/image_raw/theora/parameter_descriptions [dynamic_reconfigure/ConfigDescription]
* /pepper_robot/camera/ir/image_raw/theora/parameter_updates [dynamic_reconfigure/Config]
* /pepper_robot/camera/ir/image_raw/compressed/parameter_updates [dynamic_reconfigure/Config]
* /pepper_robot/sonar/back [sensor_msgs/Range]
* /pepper_robot/camera/depth/image_raw/compressedDepth [sensor_msgs/CompressedImage]
* /pepper_robot/camera/front/image_raw/compressed/parameter_updates [dynamic_reconfigure/Config]
* /pepper_robot/camera/ir/image_raw [sensor_msgs/Image]
* /pepper_robot/camera/depth/image_raw/theora/parameter_descriptions [dynamic_reconfigure/ConfigDescription]
* /pepper_robot/camera/depth/image_raw/theora/parameter_updates [dynamic_reconfigure/Config]
* /diagnostics_agg [diagnostic_msgs/DiagnosticArray]

Subscriptions:
* /move_base_simple/goal [geometry_msgs/PoseStamped]
* /cmd_vel [unknown type]

Services:
* /pepper_robot/get_loggers
* /pepper_robot/camera/front/image_raw/theora/set_parameters
* /pepper_robot/camera/bottom/image_raw/compressed/set_parameters
* /pepper_robot/camera/depth/image_raw/compressed/set_parameters
* /pepper_robot/camera/bottom/image_raw/theora/set_parameters
* /pepper_robot/camera/depth/image_raw/theora/set_parameters
* /pepper_robot/camera/front/image_raw/compressedDepth/set_parameters
* /pepper_robot/camera/bottom/image_raw/compressedDepth/set_parameters
* /pepper_robot/set_logger_level
* /pepper_robot/camera/front/image_raw/compressed/set_parameters
* /pepper_robot/camera/depth/image_raw/compressedDepth/set_parameters
* /pepper_robot/camera/ir/image_raw/compressedDepth/set_parameters
* /pepper_robot/camera/ir/image_raw/theora/set_parameters
* /pepper_robot/camera/ir/image_raw/compressed/set_parameters
</pre></div>
</div>
</div></div>
<dl class="docutils">
<dt>This module also provides an API on the robot side to:</dt>
<dd><ul class="first last simple">
<li>Publish data</li>
<li>Record data</li>
<li>Send command to naoqi modules</li>
</ul>
</dd>
</dl>
<p>You can find more about it on the <a class="reference internal" href="api.html#api"><span class="std std-ref">API page</span></a>, or you can go back to the <a class="reference internal" href="index.html#main-menu"><span class="std std-ref">index</span></a>.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">2. Getting Started</a><ul>
<li><a class="reference internal" href="#before-starting-the-module">2.1. Before starting the module</a></li>
<li><a class="reference internal" href="#start-the-naoqi-driver-module">2.2. Start the naoqi driver module</a></li>
<li><a class="reference internal" href="#set-the-roscore-ip-manually">2.3. Set the roscore IP manually</a></li>
<li><a class="reference internal" href="#check-that-it-is-running-correctly">2.4. Check that it is running correctly</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="install.html"
                        title="previous chapter">1. How to install it</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="api.html"
                        title="next chapter">3. API description</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/start.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="api.html" title="3. API description"
             >next</a> |</li>
        <li class="right" >
          <a href="install.html" title="1. How to install it"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">alrosbridge  documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2015, Aldebaran, Inc.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.7.
    </div>
  </body>
</html>